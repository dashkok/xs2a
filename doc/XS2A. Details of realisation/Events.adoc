// toc-title definition MUST follow document title without blank line!
=== Events

All TPP request are recorded and by default saved in CMS database. Requests are recorder and stored as events,
with event type that corresponds to specific request.

Recorded event contains:

* event timestamp, indicating when the event has occurred
* consent id or payment id if it they were contained in the request
* origin and type of the event
* payload with: information about the TPP, TPP's ip address, unique identifier of the request, request URI,
request headers and body

In the following table you can find event types depending on process and XS2A object (AIS, PIS, PIS Cancellation, PIIS).

|===

|Process |XS2A Object |Event type


.4+|Create XS2A object
|AIS
|CREATE_AIS_CONSENT_REQUEST_RECEIVED
|PIIS
|CREATE_PIIS_CONSENT_REQUEST_RECEIVED
|PIS
|PAYMENT_INITIATION_REQUEST_RECEIVED
|PIS Cancellation
|PAYMENT_CANCELLATION_REQUEST_RECEIVED

.2+|Delete XS2A object
|AIS
|DELETE_AIS_CONSENT_REQUEST_RECEIVED
|PIIS
|DELETE_PIIS_CONSENT_REQUEST_RECEIVED


.3+|Get XS2A object
|AIS
|GET_AIS_CONSENT_REQUEST_RECEIVED
|PIIS
|GET_PIIS_CONSENT_REQUEST_RECEIVED
|PIS
|GET_PAYMENT_REQUEST_RECEIVED


.3+|Get status of XS2A object
|AIS
|GET_AIS_CONSENT_STATUS_REQUEST_RECEIVED
|PIIS
|GET_PIIS_CONSENT_STATUS_REQUEST_RECEIVED
|PIS
|GET_TRANSACTION_STATUS_REQUEST_RECEIVED

.4+|Start authorisation of XS2A object
|AIS
|START_AIS_CONSENT_AUTHORISATION_REQUEST_RECEIVED
|PIIS
|START_PIIS_CONSENT_AUTHORISATION_REQUEST_RECEIVED
|PIS
|START_PAYMENT_AUTHORISATION_REQUEST_RECEIVED
|PIS Cancellation
|START_PAYMENT_CANCELLATION_AUTHORISATION_REQUEST_RECEIVED


.4+|Get authorisation of XS2A object
|AIS
|GET_CONSENT_AUTHORISATION_REQUEST_RECEIVED
|PIIS
|GET_PIIS_CONSENT_AUTHORISATION_REQUEST_RECEIVED
|PIS
|GET_PAYMENT_AUTHORISATION_REQUEST_RECEIVED
|PIS Cancellation
|GET_PAYMENT_CANCELLATION_AUTHORISATION_REQUEST_RECEIVED

.4+|Get authorisation SCA status of XS2A object
|AIS
|GET_CONSENT_SCA_STATUS_REQUEST_RECEIVED
|PIIS
|GET_PIIS_CONSENT_SCA_STATUS_REQUEST_RECEIVED
|PIS
|GET_PAYMENT_SCA_STATUS_REQUEST_RECEIVED
|PIS Cancellation
|GET_PAYMENT_CANCELLATION_SCA_STATUS_REQUEST_RECEIVED


.4+|Update PSU data: Identification
|AIS
|UPDATE_AIS_CONSENT_PSU_DATA_IDENTIFICATION_REQUEST_RECEIVED
|PIIS
|UPDATE_PIIS_CONSENT_PSU_DATA_IDENTIFICATION_REQUEST_RECEIVED
|PIS
|UPDATE_PAYMENT_AUTHORISATION_PSU_DATA_IDENTIFICATION_REQUEST_RECEIVED
|PIS Cancellation
|UPDATE_PAYMENT_CANCELLATION_PSU_DATA_IDENTIFICATION_REQUEST_RECEIVED

.4+|Update PSU data: Authentication
|AIS
|UPDATE_AIS_CONSENT_PSU_DATA_AUTHENTICATION_REQUEST_RECEIVED
|PIIS
|UPDATE_PIIS_CONSENT_PSU_DATA_AUTHENTICATION_REQUEST_RECEIVED
|PIS
|UPDATE_PAYMENT_AUTHORISATION_PSU_DATA_AUTHENTICATION_REQUEST_RECEIVED
|PIS Cancellation
|UPDATE_PAYMENT_CANCELLATION_PSU_DATA_AUTHENTICATION_REQUEST_RECEIVED

.4+|Update PSU data: Select authentication method
|AIS
|UPDATE_AIS_CONSENT_PSU_DATA_SELECT_AUTHENTICATION_METHOD_REQUEST_RECEIVED
|PIIS
|UPDATE_PIIS_CONSENT_PSU_DATA_SELECT_AUTHENTICATION_METHOD_REQUEST_RECEIVED
|PIS
|UPDATE_PAYMENT_AUTHORISATION_PSU_DATA_SELECT_AUTHENTICATION_METHOD_REQUEST_RECEIVED
|PIS Cancellation
|UPDATE_PAYMENT_CANCELLATION_PSU_DATA_SELECT_AUTHENTICATION_METHOD_REQUEST_RECEIVED

.4+|Update PSU data: TAN
|AIS
|UPDATE_AIS_CONSENT_PSU_DATA_TAN_REQUEST_RECEIVED
|PIIS
|UPDATE_PIIS_CONSENT_PSU_DATA_TAN_REQUEST_RECEIVED
|PIS
|UPDATE_PAYMENT_AUTHORISATION_PSU_DATA_TAN_REQUEST_RECEIVED
|PIS Cancellation
|UPDATE_PAYMENT_CANCELLATION_PSU_DATA_TAN_REQUEST_RECEIVED

.4+|Update PSU data: Confirmation Code
|AIS
|UPDATE_AIS_CONSENT_PSU_DATA_CONFIRMATION_CODE_REQUEST_RECEIVED
|PIIS
|UPDATE_PIIS_CONSENT_PSU_DATA_CONFIRMATION_CODE_REQUEST_RECEIVED
|PIS
|UPDATE_PAYMENT_AUTHORISATION_PSU_DATA_CONFIRMATION_CODE_REQUEST_RECEIVED
|PIS Cancellation
|UPDATE_PAYMENT_CANCELLATION_PSU_DATA_CONFIRMATION_CODE_REQUEST_RECEIVED

.4+|Update PSU data (#*Deprecated*#)
|AIS
|[.line-through]#UPDATE_AIS_CONSENT_PSU_DATA_REQUEST_RECEIVED#
|PIIS
|[.line-through]#UPDATE_PIIS_CONSENT_PSU_DATA_REQUEST_RECEIVED#
|PIS
|[.line-through]#UPDATE_PAYMENT_AUTHORISATION_PSU_DATA_REQUEST_RECEIVED#
|PIS Cancellation
|[.line-through]#UPDATE_PAYMENT_CANCELLATION_PSU_DATA_REQUEST_RECEIVED#

.1+|Funds Confirmation request
|PIIS
|FUNDS_CONFIRMATION_REQUEST_RECEIVED

|===

In the following table you can find event types depending on AIS process and type of account

|===

|Process |Account / Card Account |Event type
.2+|Read account list
|Account
|READ_ACCOUNT_LIST_REQUEST_RECEIVED
|Card Account
|READ_CARD_ACCOUNT_LIST_REQUEST_RECEIVED

.2+|Read account details
|Account
|READ_ACCOUNT_DETAILS_REQUEST_RECEIVED
|Card Account
|READ_CARD_ACCOUNT_DETAILS_REQUEST_RECEIVED

.2+|Read balance
|Account
|READ_BALANCE_REQUEST_RECEIVED
|Card Account
|READ_CARD_BALANCE_REQUEST_RECEIVED

.2+|Read transaction list
|Account
|READ_TRANSACTION_LIST_REQUEST_RECEIVED
|Card Account
|READ_CARD_TRANSACTION_LIST_REQUEST_RECEIVED

.1+|Read transaction details
|Account
|READ_TRANSACTION_DETAILS_REQUEST_RECEIVED

.1+|Download transaction list
|Account
|DOWNLOAD_TRANSACTION_LIST_REQUEST_RECEIVED

.1+|Read trusted beneficiaries list
|Account
|READ_TRUSTED_BENEFICIARIES_LIST_REQUEST_RECEIVED

|===
